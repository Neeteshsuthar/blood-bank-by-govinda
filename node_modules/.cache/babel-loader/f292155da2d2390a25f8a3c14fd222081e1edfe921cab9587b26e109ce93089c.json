{"ast":null,"code":"var _jsxFileName = \"C:\\\\Desktop\\\\test project\\\\myapp\\\\src\\\\context\\\\Myprovider.jsx\",\n  _s = $RefreshSig$();\nimport Swal from \"sweetalert2\";\nimport React from \"react\";\nimport { auth, createUserWithEmailAndPassword, signInWithEmailAndPassword, sendPasswordResetEmail, db } from \"../init-firebase\";\nimport { addDoc, doc, setDoc } from \"firebase/firestore\";\nimport Mycontext from \"./Mycontext\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Myprovider = ({\n  children\n}) => {\n  _s();\n  const Navigate = useNavigate();\n  const SignupFirebase = async (name, email, password, doners) => {\n    if (name && email && password) {\n      createUserWithEmailAndPassword(auth, email, password).then(userCredential => {\n        // Signed up \n        const user = userCredential.user;\n        setDoc(doc(db, \"SinupUser\", user.uid), {\n          Name: name,\n          UserEmail: email,\n          UserPassword: password,\n          Who: doners,\n          hasDonated: false\n        });\n        Swal.fire(\"Wow brother, good job! User registered successfully.\");\n        console.log(\"User saved to Firestore:\", user);\n        Navigate('/login');\n      }).catch(error => {\n        const errorCode = error.code;\n        const errorMessage = error.message;\n        console.log(\"Error signing up:\", errorCode, errorMessage);\n        Swal.fire(\"Error signing up. Please try again.\");\n      });\n    } else {\n      Swal.fire(\"Please fill all fields.\");\n    }\n  };\n  // SignIn Exist User\n\n  const SignInfirebase = async (email, password) => {\n    if (email && password) {\n      try {\n        const userCredential = await signInWithEmailAndPassword(auth, email, password);\n        const user = userCredential.user;\n        Swal.fire(\"Wow brother, Great! Signed in successfully.\");\n        console.log(\"Signed in user:\", user);\n        setDoc(doc(db, \"siginnInUser\", user.uid), {\n          userEmail: email,\n          userPassword: password\n        });\n      } catch (error) {\n        console.error(\"Error signing in:\", error.message);\n        Swal.fire(\"Error signing In. Please try again.\");\n        Navigate('/home');\n      }\n    } else {\n      Swal.fire(\"Please fill all fields.\");\n    }\n  };\n  // Forget Password Function\n  const ForgetPassword = async email => {\n    if (email) {\n      try {\n        await sendPasswordResetEmail(auth, email);\n        Swal.fire(\"Password reset email sent successfully!\");\n      } catch (error) {\n        console.error(\"Error resetting password:\", error.message);\n        Swal.fire(\"Error resetting password. Please try again.\");\n      }\n    } else {\n      Swal.fire(\"Please provide your email.\");\n    }\n  };\n  const updateUserProfile = async (name, emal, role) => {\n    try {\n      // Call updateDoc or your own update function here\n      const currentUser = auth.currentUser;\n      if (!currentUser) {\n        throw new Error(\"User not logged in\");\n      }\n      const userRef = doc(db, \"SinupUser\", currentUser.uid);\n      await updateDoc(userRef, {\n        NAme\n      });\n      Swal.fire(\"Profile updated successfully!\");\n    } catch (error) {\n      console.error(\"Error updating profile:\", error);\n      Swal.fire(\"Error\", \"Failed to update profile\", \"error\");\n    }\n  };\n  useEffect(() => {\n    if (currentUser) {\n      setName(currentUser.name);\n      setEmail(currentUser.email);\n      setRole(currentUser.role);\n    }\n  }, [currentUser]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    updateUserProfile({\n      name,\n      email,\n      role\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Mycontext.Provider, {\n    value: {\n      SignupFirebase,\n      SignInfirebase,\n      ForgetPassword,\n      updateUserProfile\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n};\n_s(Myprovider, \"qiyMe5CjbyS90NXqWfBBrh1dcow=\", false, function () {\n  return [useNavigate];\n});\n_c = Myprovider;\nexport default Myprovider;\nvar _c;\n$RefreshReg$(_c, \"Myprovider\");","map":{"version":3,"names":["Swal","React","auth","createUserWithEmailAndPassword","signInWithEmailAndPassword","sendPasswordResetEmail","db","addDoc","doc","setDoc","Mycontext","useNavigate","jsxDEV","_jsxDEV","Myprovider","children","_s","Navigate","SignupFirebase","name","email","password","doners","then","userCredential","user","uid","Name","UserEmail","UserPassword","Who","hasDonated","fire","console","log","catch","error","errorCode","code","errorMessage","message","SignInfirebase","userEmail","userPassword","ForgetPassword","updateUserProfile","emal","role","currentUser","Error","userRef","updateDoc","NAme","useEffect","setName","setEmail","setRole","handleSubmit","e","preventDefault","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Desktop/test project/myapp/src/context/Myprovider.jsx"],"sourcesContent":["import Swal from \"sweetalert2\";\r\nimport React from \"react\";\r\nimport { auth, createUserWithEmailAndPassword, signInWithEmailAndPassword, sendPasswordResetEmail, db } from \"../init-firebase\";\r\nimport { addDoc, doc, setDoc } from \"firebase/firestore\";\r\nimport Mycontext from \"./Mycontext\";\r\nimport {useNavigate } from \"react-router-dom\";\r\n\r\n      const Myprovider = ({ children }) => {\r\n         const Navigate=useNavigate()\r\n         const SignupFirebase = async (name, email, password,doners) => {\r\n         if (name && email && password) {\r\n         createUserWithEmailAndPassword(auth, email, password)\r\n        .then((userCredential) => {\r\n        // Signed up \r\n        const user = userCredential.user;\r\n        setDoc(doc(db, \"SinupUser\", user.uid),{\r\n          Name:name,UserEmail:email,UserPassword:password,Who:doners,hasDonated:false,\r\n        })\r\n        Swal.fire(\"Wow brother, good job! User registered successfully.\");\r\n        console.log(\"User saved to Firestore:\", user);\r\n        Navigate('/login')\r\n       }) \r\n    .catch((error) => {\r\n     const errorCode = error.code;\r\n     const errorMessage = error.message;\r\n     console.log(\"Error signing up:\", errorCode,errorMessage);\r\n     Swal.fire(\"Error signing up. Please try again.\");\r\n  });\r\n  \r\n  }else{\r\n  Swal.fire(\"Please fill all fields.\");\r\n}\r\n  };\r\n  // SignIn Exist User\r\n\r\n     const SignInfirebase = async (email, password) => {\r\n     if (email && password) {\r\n        try {\r\n        const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n        const user = userCredential.user;\r\n        Swal.fire(\"Wow brother, Great! Signed in successfully.\");\r\n        console.log(\"Signed in user:\", user);\r\n       setDoc(doc(db,\"siginnInUser\",user.uid),{\r\n        userEmail:email,userPassword:password\r\n       })\r\n        } catch (error) {\r\n        console.error(\"Error signing in:\", error.message);\r\n        Swal.fire(\"Error signing In. Please try again.\");\r\n        Navigate('/home')\r\n       \r\n      }\r\n      } else {\r\n      Swal.fire(\"Please fill all fields.\");\r\n    }\r\n  };\r\n         // Forget Password Function\r\n         const ForgetPassword = async (email) => {\r\n         if (email) {\r\n        try {\r\n        await sendPasswordResetEmail(auth, email);\r\n        Swal.fire(\"Password reset email sent successfully!\");\r\n        } catch (error) {\r\n        console.error(\"Error resetting password:\", error.message);\r\n        Swal.fire(\"Error resetting password. Please try again.\");\r\n        }\r\n        } else {\r\n        Swal.fire(\"Please provide your email.\");\r\n     }\r\n  };\r\n  \r\n\r\nconst updateUserProfile=async(name,emal,role)=>{\r\n  try {\r\n    // Call updateDoc or your own update function here\r\n    const currentUser = auth.currentUser;\r\n    if (!currentUser) {\r\n      throw new Error(\"User not logged in\");\r\n    }\r\n    \r\n    const userRef = doc(db, \"SinupUser\", currentUser.uid);\r\n    await updateDoc(userRef, {\r\n     NAme\r\n    });\r\n    Swal.fire(\"Profile updated successfully!\");\r\n  } catch (error) {\r\n    console.error(\"Error updating profile:\", error);\r\n    Swal.fire(\"Error\", \"Failed to update profile\", \"error\");\r\n  }\r\n};\r\n\r\n\r\n useEffect(() => {\r\n    if (currentUser) {\r\n      setName(currentUser.name);\r\n      setEmail(currentUser.email);\r\n      setRole(currentUser.role);\r\n    }\r\n  }, [currentUser]);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    updateUserProfile({ name,email,role });\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <Mycontext.Provider value={{SignupFirebase,SignInfirebase, ForgetPassword,updateUserProfile}}>\r\n      {children}\r\n    </Mycontext.Provider>\r\n  );\r\n};\r\n\r\nexport default Myprovider;\r\n"],"mappings":";;AAAA,OAAOA,IAAI,MAAM,aAAa;AAC9B,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,EAAEC,8BAA8B,EAAEC,0BAA0B,EAAEC,sBAAsB,EAAEC,EAAE,QAAQ,kBAAkB;AAC/H,SAASC,MAAM,EAAEC,GAAG,EAAEC,MAAM,QAAQ,oBAAoB;AACxD,OAAOC,SAAS,MAAM,aAAa;AACnC,SAAQC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExC,MAAMC,UAAU,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAClC,MAAMC,QAAQ,GAACN,WAAW,CAAC,CAAC;EAC5B,MAAMO,cAAc,GAAG,MAAAA,CAAOC,IAAI,EAAEC,KAAK,EAAEC,QAAQ,EAACC,MAAM,KAAK;IAC/D,IAAIH,IAAI,IAAIC,KAAK,IAAIC,QAAQ,EAAE;MAC/BlB,8BAA8B,CAACD,IAAI,EAAEkB,KAAK,EAAEC,QAAQ,CAAC,CACrDE,IAAI,CAAEC,cAAc,IAAK;QAC1B;QACA,MAAMC,IAAI,GAAGD,cAAc,CAACC,IAAI;QAChChB,MAAM,CAACD,GAAG,CAACF,EAAE,EAAE,WAAW,EAAEmB,IAAI,CAACC,GAAG,CAAC,EAAC;UACpCC,IAAI,EAACR,IAAI;UAACS,SAAS,EAACR,KAAK;UAACS,YAAY,EAACR,QAAQ;UAACS,GAAG,EAACR,MAAM;UAACS,UAAU,EAAC;QACxE,CAAC,CAAC;QACF/B,IAAI,CAACgC,IAAI,CAAC,sDAAsD,CAAC;QACjEC,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAET,IAAI,CAAC;QAC7CR,QAAQ,CAAC,QAAQ,CAAC;MACnB,CAAC,CAAC,CACJkB,KAAK,CAAEC,KAAK,IAAK;QACjB,MAAMC,SAAS,GAAGD,KAAK,CAACE,IAAI;QAC5B,MAAMC,YAAY,GAAGH,KAAK,CAACI,OAAO;QAClCP,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEG,SAAS,EAACE,YAAY,CAAC;QACxDvC,IAAI,CAACgC,IAAI,CAAC,qCAAqC,CAAC;MACnD,CAAC,CAAC;IAEF,CAAC,MAAI;MACLhC,IAAI,CAACgC,IAAI,CAAC,yBAAyB,CAAC;IACtC;EACE,CAAC;EACD;;EAEG,MAAMS,cAAc,GAAG,MAAAA,CAAOrB,KAAK,EAAEC,QAAQ,KAAK;IAClD,IAAID,KAAK,IAAIC,QAAQ,EAAE;MACpB,IAAI;QACJ,MAAMG,cAAc,GAAG,MAAMpB,0BAA0B,CAACF,IAAI,EAAEkB,KAAK,EAAEC,QAAQ,CAAC;QAC9E,MAAMI,IAAI,GAAGD,cAAc,CAACC,IAAI;QAChCzB,IAAI,CAACgC,IAAI,CAAC,6CAA6C,CAAC;QACxDC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAET,IAAI,CAAC;QACrChB,MAAM,CAACD,GAAG,CAACF,EAAE,EAAC,cAAc,EAACmB,IAAI,CAACC,GAAG,CAAC,EAAC;UACtCgB,SAAS,EAACtB,KAAK;UAACuB,YAAY,EAACtB;QAC9B,CAAC,CAAC;MACD,CAAC,CAAC,OAAOe,KAAK,EAAE;QAChBH,OAAO,CAACG,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAACI,OAAO,CAAC;QACjDxC,IAAI,CAACgC,IAAI,CAAC,qCAAqC,CAAC;QAChDf,QAAQ,CAAC,OAAO,CAAC;MAEnB;IACA,CAAC,MAAM;MACPjB,IAAI,CAACgC,IAAI,CAAC,yBAAyB,CAAC;IACtC;EACF,CAAC;EACM;EACA,MAAMY,cAAc,GAAG,MAAOxB,KAAK,IAAK;IACxC,IAAIA,KAAK,EAAE;MACZ,IAAI;QACJ,MAAMf,sBAAsB,CAACH,IAAI,EAAEkB,KAAK,CAAC;QACzCpB,IAAI,CAACgC,IAAI,CAAC,yCAAyC,CAAC;MACpD,CAAC,CAAC,OAAOI,KAAK,EAAE;QAChBH,OAAO,CAACG,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAACI,OAAO,CAAC;QACzDxC,IAAI,CAACgC,IAAI,CAAC,6CAA6C,CAAC;MACxD;IACA,CAAC,MAAM;MACPhC,IAAI,CAACgC,IAAI,CAAC,4BAA4B,CAAC;IAC1C;EACH,CAAC;EAGH,MAAMa,iBAAiB,GAAC,MAAAA,CAAM1B,IAAI,EAAC2B,IAAI,EAACC,IAAI,KAAG;IAC7C,IAAI;MACF;MACA,MAAMC,WAAW,GAAG9C,IAAI,CAAC8C,WAAW;MACpC,IAAI,CAACA,WAAW,EAAE;QAChB,MAAM,IAAIC,KAAK,CAAC,oBAAoB,CAAC;MACvC;MAEA,MAAMC,OAAO,GAAG1C,GAAG,CAACF,EAAE,EAAE,WAAW,EAAE0C,WAAW,CAACtB,GAAG,CAAC;MACrD,MAAMyB,SAAS,CAACD,OAAO,EAAE;QACxBE;MACD,CAAC,CAAC;MACFpD,IAAI,CAACgC,IAAI,CAAC,+BAA+B,CAAC;IAC5C,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdH,OAAO,CAACG,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/CpC,IAAI,CAACgC,IAAI,CAAC,OAAO,EAAE,0BAA0B,EAAE,OAAO,CAAC;IACzD;EACF,CAAC;EAGAqB,SAAS,CAAC,MAAM;IACb,IAAIL,WAAW,EAAE;MACfM,OAAO,CAACN,WAAW,CAAC7B,IAAI,CAAC;MACzBoC,QAAQ,CAACP,WAAW,CAAC5B,KAAK,CAAC;MAC3BoC,OAAO,CAACR,WAAW,CAACD,IAAI,CAAC;IAC3B;EACF,CAAC,EAAE,CAACC,WAAW,CAAC,CAAC;EAEjB,MAAMS,YAAY,GAAIC,CAAC,IAAK;IAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBd,iBAAiB,CAAC;MAAE1B,IAAI;MAACC,KAAK;MAAC2B;IAAK,CAAC,CAAC;EACxC,CAAC;EAID,oBACElC,OAAA,CAACH,SAAS,CAACkD,QAAQ;IAACC,KAAK,EAAE;MAAC3C,cAAc;MAACuB,cAAc;MAAEG,cAAc;MAACC;IAAiB,CAAE;IAAA9B,QAAA,EAC1FA;EAAQ;IAAA+C,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACS,CAAC;AAEzB,CAAC;AAACjD,EAAA,CAxGUF,UAAU;EAAA,QACEH,WAAW;AAAA;AAAAuD,EAAA,GADvBpD,UAAU;AA0GtB,eAAeA,UAAU;AAAC,IAAAoD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}